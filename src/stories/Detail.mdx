import { Meta, Canvas, Story, Controls } from '@storybook/blocks';
import * as DetailStories from './Detail.stories.jsx';

<Meta of={DetailStories} />

# Detail Page (Página de Detalle)

El componente `Detail` es una vista de página completa que muestra la información detallada de un libro específico basándose en el parámetro `:id` de la URL.

## Características principales

1.  **Carga Dinámica**: Utiliza `useParams` para obtener el ID y buscar los datos en el archivo `books.js`.
2.  **Scroll Automático**: Incluye un `useEffect` que desplaza la ventana hacia arriba (`window.scrollTo`) cada vez que cambia el ID, asegurando que el usuario vea el inicio de la ficha al navegar entre libros.
3.  **Libros Relacionados**: Genera una lista aleatoria de 3 libros adicionales (excluyendo el actual) para fomentar la navegación.

## Demostración

<Canvas>
  <Story of={DetailStories.Default} />
</Canvas>

## Accesibilidad (A11y)

Este componente utiliza varias técnicas para garantizar una experiencia inclusiva:

* **Puntos de referencia**: Usa `article` para el contenido principal y `role="region"` para la sección de recomendaciones.
* **Aria-labelledby**: El artículo principal está vinculado al título del libro (`#book-title`).
* **Etiquetas Descriptivas**: El botón "Volver" y las imágenes de portada tienen `aria-label` descriptivos para lectores de pantalla.
* **Navegación Intuitiva**: Los enlaces en "Otros libros" indican claramente que el usuario va a ver los detalles de un título específico.

## Propiedades de Prueba (Storybook)

En este entorno de pruebas, puedes cambiar el **bookId** en el panel de controles para simular cómo se ve la página con diferentes libros del catálogo.

<Controls />

---

### Notas Técnicas
Este componente requiere ser renderizado dentro de un componente `BrowserRouter` o `MemoryRouter` en una aplicación real para que funcionen los hooks `useNavigate` y `useParams`.